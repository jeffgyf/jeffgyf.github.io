(this.webpackJsonplyubishchev=this.webpackJsonplyubishchev||[]).push([[0],{155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},186:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(13),o=n(20),r=n(19),s=n(0),c=n.n(s),l=n(70),u=n.n(l),d=(n(155),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,268)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))}),h=n(64),m=n(16),v=(n(156),n(254)),j=n(246),b=n(122),f=(n(157),n(25)),g=(n(158),n(251)),p=n(260),O=n(256),x=n(249),y=n(130),k=n(131),T=n(35),S=n.n(T),w=n(46),D=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object(a.a)(this,e),this.title=void 0,this.startTime=void 0,this.endTime=void 0,this.tags=new Set,this.title=n,this.startTime=t}return Object(i.a)(e,[{key:"getDuration",value:function(){return void 0===this.endTime?void 0:this.endTime.getTime()-this.startTime.getTime()}}]),e}(),E=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"saveUserEvents",value:function(e){var t=e.map((function(e){return{title:e.title,startTime:e.startTime,endTime:e.endTime,tags:Object(w.a)(e.tags)}})),n=JSON.stringify(t);localStorage.setItem("data",n)}},{key:"loadUserEvents",value:function(){var e=localStorage.getItem("data");return e?JSON.parse(e).map((function(e){var t=new D(new Date(e.startTime),e.title);return void 0!==e.endTime&&(t.endTime=new Date(e.endTime)),t.tags=new Set(e.tags),t})):[]}}]),e}(),C=new(function(){function e(){var t=this;Object(a.a)(this,e),this.userEvents=[],this.tags=new Set;var n=new E;this.userEvents=n.loadUserEvents(),this.userEvents.forEach((function(e){e.tags.forEach((function(e){t.tags.add(e)}))}))}return Object(i.a)(e,[{key:"addEvent",value:function(e){var t=this;this.userEvents.push(e),e.tags.forEach((function(e){t.tags.add(e)})),this.saveEvents()}},{key:"getEvents",value:function(){return Object(w.a)(this.userEvents)}},{key:"getTags",value:function(){return Object(w.a)(this.tags)}},{key:"clearEvents",value:function(){this.userEvents=[],this.saveEvents()}},{key:"generateRandomEvents",value:function(){for(var e=new Date,t=[],n=["A","B","C","D","E"],a=["tagA","tagB","tagC"],i=0;i<7;++i)for(var o=0;o<5;++o){var r=S()(e.toDateString()).add(-7+i,"d"),s=Math.floor(24*Math.random()),c=Math.floor(60*Math.random()),l=r.add(s,"h").add(c,"m"),u=Math.floor(200*Math.random()),d=a[Math.floor(3*Math.random())],h=n[Math.floor(5*Math.random())],m=new D(l.toDate());m.endTime=l.add(u,"m").toDate(),m.tags=new Set([d]),m.title=h,t.push(m)}this.userEvents=this.userEvents.concat(t),this.saveEvents()}},{key:"saveEvents",value:function(){(new E).saveUserEvents(this.userEvents)}}]),e}()),N=n(4),M=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:"",tags:[],hidden:!1},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,a={onBlur:function(e){return console.log("onBlur called")},onFocus:function(e){return console.log("onFocus called")}},i=[].map((function(e){return{key:e,name:e}}));return Object(N.jsxs)(g.a,{hidden:this.props.hidden,title:"Log an event",className:"event-dialog",children:[Object(N.jsx)(p.a,{className:"time-label",children:(null===(e=this.props.startTime)||void 0===e?void 0:e.toLocaleTimeString())+" - "+(null===(t=this.props.endTime)||void 0===t?void 0:t.toLocaleTimeString())}),Object(N.jsx)(p.a,{className:"time-label",children:"Total time "+this.getTimeDiff()}),Object(N.jsx)(O.a,{placeholder:"Title",className:"title-input",onChange:function(e,t){return n.setState({title:t})}}),Object(N.jsx)(x.a,{removeButtonAriaLabel:"Remove",selectionAriaLabel:"Selected colors",onResolveSuggestions:function(e,t){if(!e)return[];var n=i.filter((function(n){return 0===n.name.toLowerCase().indexOf(e.toLowerCase())&&!function(e,t){return!(!t||!t.length||0===t.length)&&t.some((function(t){return t.key===e.key}))}(n,t)}));return n.length||n.push({key:e,name:e}),n},onChange:function(e){var t;console.log("items: "+(null===e||void 0===e?void 0:e.map((function(e){return e.name})))),n.setState({tags:null!==(t=null===e||void 0===e?void 0:e.map((function(e){return e.name})))&&void 0!==t?t:[]})},onItemSelected:function(e){return console.log("selected "+(null===e||void 0===e?void 0:e.name)),e},getTextFromItem:function(e){return e.name},pickerSuggestionsProps:{suggestionsHeaderText:"Suggested tags",noResultsFoundText:"No color tags found"},disabled:!1,inputProps:Object(f.a)(Object(f.a)({},a),{},{id:"picker1",placeholder:"Tags"})}),Object(N.jsxs)(y.a,{children:[Object(N.jsx)(j.a,{text:"Log",onClick:function(){return n.onSubmit()}}),Object(N.jsx)(k.a,{text:"Cancel",onClick:function(){return n.onCancel()}})]})]})}},{key:"getTimeDiff",value:function(){if(!this.props.endTime||!this.props.startTime)return"";var e=this.props.endTime.getTime()-this.props.startTime.getTime(),t=S.a.duration(e),n=t.hours(),a=t.minutes();return(n>0?"".concat(n,"h"):"")+"".concat(a,"m")}},{key:"onSubmit",value:function(){var e=C.getEvents(),t=e[e.length-1];t.title=this.state.title,t.endTime=this.props.endTime,t.tags=new Set(this.state.tags),(new E).saveUserEvents(e),console.log(e),this.props.hideDialog()}},{key:"onCancel",value:function(){this.props.hideDialog()}}]),n}(c.a.Component),A=M,F=n(99),L=n.n(F),P=n(126),G=(n(162),function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"GetMonthDayHash",value:function(e){return 32*(e.getMonth()+1)+e.getDate()}},{key:"GetMonthDayStringFromHash",value:function(e){return Math.floor(e/32)+"/"+e%32}},{key:"GetHourAndMinFromDuration",value:function(e){var t=e.hours(),n=e.minutes();return{hour:(t>=10?"":"0")+t,min:(n>=10?"":"0")+n}}},{key:"GetHourAndMinFromDate",value:function(e){var t=e.getHours(),n=e.getMinutes();return{hour:(t>=10?"":"0")+t,min:(n>=10?"":"0")+n}}}]),e}());function B(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))}var R=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={timer:"00:00"},e.started=!1,e}return Object(i.a)(n,[{key:"render",value:function(){return this.started||null==this.props.startTime||(this.started=!0,this.startTimer()),Object(N.jsx)(p.a,{className:"timer",children:this.state.timer})}},{key:"startTimer",value:function(){var e=Object(P.a)(L.a.mark((function e(){var t,n,a,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0;case 1:if(null==this.props.startTime){e.next=11;break}return n=S.a.duration(Date.now()-this.props.startTime.getTime()),a=G.GetHourAndMinFromDuration(n),i=a.hour+(t?":":" ")+a.min,this.setState({timer:i}),t=!t,e.next=9,B(1);case 9:e.next=1;break;case 11:this.started=!1;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(c.a.Component),H=R,I=(n(163),n(261)),W=n(74),z=n(248),U=n(9),J=n(15),_=n(253),K=n(247),V=n(58),q=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={filterEvent:function(e){return!0}},e._columns=[{key:"column1",name:"Title",fieldName:"title",minWidth:25,maxWidth:200,isResizable:!0,flexGrow:2},{key:"column2",name:"Time",fieldName:"startTime",minWidth:25,maxWidth:200,isResizable:!0,flexGrow:2},{key:"column3",name:"Duration",fieldName:"duration",minWidth:25,maxWidth:200,isResizable:!0,flexGrow:2},{key:"column4",name:"Tags",fieldName:"tags",minWidth:20,maxWidth:200,isResizable:!0,flexGrow:8}],e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.events.filter((function(t){return e.state.filterEvent(t)})).map((function(e,t){var n=S.a.duration(e.getDuration()),a=G.GetHourAndMinFromDate(e.startTime);return{key:t,title:e.title,startTime:a.hour+":"+a.min,duration:n.hours()+"h "+n.minutes()+"m",tags:Object(w.a)(e.tags).join("; ")}})),n={onBlur:function(e){return console.log("onBlur called")},onFocus:function(e){return console.log("onFocus called")}},a=Object(w.a)(this.props.events.reduce((function(e,t){return t.tags.forEach((function(t){return e.add(t)})),e}),new Set)).map((function(e){return{key:e,name:e}}));return Object(N.jsx)("div",{className:"events-container",children:Object(N.jsxs)(v.a,{className:"events-components",verticalFill:!0,tokens:{childrenGap:80},children:[Object(N.jsx)(x.a,{removeButtonAriaLabel:"Remove",selectionAriaLabel:"Selected colors",onResolveSuggestions:function(e,t){if(!e)return[];var n=a.filter((function(n){return 0===n.name.toLowerCase().indexOf(e.toLowerCase())&&!function(e,t){return!(!t||!t.length||0===t.length)&&t.some((function(t){return t.key===e.key}))}(n,t)}));return n.length||n.push({key:e,name:e}),n},onChange:function(t){console.log("items: "+(null===t||void 0===t?void 0:t.map((function(e){return e.name})))),e.setState({filterEvent:function(e){return!Array.isArray(t)||0===t.length||t.map((function(e){return e.name})).every((function(t){return e.tags.has(t)}))}})},onItemSelected:function(e){return console.log("selected "+(null===e||void 0===e?void 0:e.name)),e},getTextFromItem:function(e){return e.name},pickerSuggestionsProps:{suggestionsHeaderText:"Suggested tags",noResultsFoundText:"No color tags found"},disabled:!1,inputProps:Object(f.a)(Object(f.a)({},n),{},{id:"picker1"})}),Object(N.jsx)(I.a,{className:"events-table",scrollbarVisibility:W.b.auto,children:Object(N.jsx)(z.a,{compact:!0,items:t,columns:this._columns,setKey:"set",layoutMode:U.e.fixedColumns,selectionMode:J.b.none,constrainMode:U.d.unconstrained,onRenderDetailsHeader:Q,onItemInvoked:function(){return console.log("clicked")},ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"select row"})})]})})}}]),n}(c.a.Component),Q=function(e,t){if(!e)return null;return Object(N.jsx)(K.a,{stickyPosition:V.a.Both,children:t(Object(f.a)(Object(f.a)({},e),{},{onRenderColumnHeaderTooltip:function(e){return Object(N.jsx)(_.a,Object(f.a)({},e))}}))})},X=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={cookie:document.cookie,onGoingEvent:e.initializeIsPlaying(),hideDialog:!0},e.startTime=void 0,e.endTime=void 0,e}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this;return Object(N.jsxs)("div",{className:"logging-mode-container "+this.props.className,children:[Object(N.jsx)(H,{startTime:null===(e=this.state.onGoingEvent)||void 0===e?void 0:e.startTime}),Object(N.jsx)(v.a,{className:"timer-controls",horizontal:!0,tokens:{childrenGap:80},children:this.state.onGoingEvent?Object(N.jsx)(j.a,{className:"button",onClick:function(){return t.onStopClicked()},allowDisabledFocus:!0,children:Object(N.jsx)(b.a,{className:"icon","aria-label":"Stop",iconName:"Stop"})}):Object(N.jsx)(j.a,{className:"button",onClick:function(){return t.onStartClicked()},allowDisabledFocus:!0,children:Object(N.jsx)(b.a,{className:"icon","aria-label":"Play",iconName:"Play"})})}),Object(N.jsx)(A,{hidden:this.state.hideDialog,startTime:this.startTime,endTime:this.endTime,hideDialog:function(){return t.hideSubmitDialog()},restartPlay:function(){return t.startPlay()}}),Object(N.jsx)(q,{events:C.getEvents()})]})}},{key:"onStartClicked",value:function(){this.startPlay()}},{key:"startPlay",value:function(){var e=new Date,t=new D(e);this.startTime=e,this.setState({onGoingEvent:t}),C.addEvent(t),console.log("start event: "+e)}},{key:"onStopClicked",value:function(){this.endTime=new Date,this.showSubmitDialog(),this.setState({onGoingEvent:void 0}),console.log("stop clicked: "+this.endTime)}},{key:"showSubmitDialog",value:function(){this.setState({hideDialog:!1})}},{key:"hideSubmitDialog",value:function(){this.setState({hideDialog:!0})}},{key:"initializeIsPlaying",value:function(){var e=C.getEvents();if(e.length>0&&!e[e.length-1].endTime)return e[e.length-1]}}]),n}(c.a.Component),Y=X,Z=(n(164),n(165),n(26)),$=(n(186),Object(Z.i)(Z.g));function ee(e,t){return e.reduce((function(e,n){var a=t(n);return e.has(a)?e.get(a).push(n):e.set(a,[n]),e}),new Map)}var te=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(i.a)(n,[{key:"render",value:function(){for(var e,t=null!==(e=this.props.events)&&void 0!==e?e:C.getEvents(),n=ee(t=t.filter((function(e){return void 0!=e.title})),(function(e){return e.title})),a=Array.from(ee(t.map((function(e){return G.GetMonthDayHash(e.startTime)})),(function(e){return e})).keys()).sort(),i=Array.from(n.keys()).map((function(e){var t=ee(n.get(e),(function(e){return G.GetMonthDayHash(e.startTime)}));return{type:e,times:a.map((function(e){var n,a;return{x:G.GetMonthDayStringFromHash(e),y:null!==(n=null===(a=t.get(e))||void 0===a?void 0:a.reduce((function(e,t){return e+S.a.duration(t.getDuration()).asHours()}),0))&&void 0!==n?n:0}}))}})),o=Array.from(n.keys()),r=new Map,s=0;s<o.length;++s)r.set(o[s],"#"+Math.floor(16777215*Math.random()).toString(16));return Object(N.jsx)("div",{children:Object(N.jsxs)($,{animation:!0,className:"clustered-stacked-bar-chart-example",xType:"ordinal",stackBy:"y",height:400,children:[Object(N.jsx)(Z.b,{orientation:"horizontal",items:Array.from(r.keys()).map((function(e){return{title:e,color:r.get(e)}}))}),Object(N.jsx)(Z.e,{}),Object(N.jsx)(Z.c,{}),Object(N.jsx)(Z.f,{}),Object(N.jsx)(Z.h,{}),i.map((function(e){return Object(N.jsx)(Z.d,{barWidth:.5,color:r.get(e.type),data:e.times})}))]})})}}]),n}(c.a.Component),ne=(Object(Z.i)(Z.g),function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{className:"dashboard-container "+this.props.className,children:Object(N.jsx)("div",{className:"plot",children:Object(N.jsx)(te,{events:this.props.events})})})}}]),n}(c.a.Component));var ae=n(262),ie=n(22),oe=n(266),re=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={cookie:document.cookie,isPanelOpen:!1,selectedMode:"logging"},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t="logging"===this.state.selectedMode?Object(N.jsx)(Y,{className:"App-content"}):Object(N.jsx)(ne,{className:"App-content"});return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsxs)("div",{className:"panel-container",children:[Object(N.jsx)(k.a,{className:"burger-button",onClick:function(){return e.setState({isPanelOpen:!0})},children:Object(N.jsx)(b.a,{className:"icon","aria-label":"GlobalNavButton",iconName:"GlobalNavButton"})}),Object(N.jsx)(ae.a,{className:"nav-panel",isLightDismiss:!0,isOpen:this.state.isPanelOpen,onDismiss:function(){return e.setState({isPanelOpen:!1})},headerText:"Mode",type:ie.a.smallFixedNear,children:Object(N.jsxs)(v.a,{children:[Object(N.jsx)(oe.a,{text:"Logging",onClick:function(){return e.setState({selectedMode:"logging"})}}),Object(N.jsx)(oe.a,{text:"Dashboard",onClick:function(){return e.setState({selectedMode:"dashboard"})}})]})})]}),t]})}}]),n}(c.a.Component),se=re,ce=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"DebugPage",children:[Object(N.jsx)("h1",{children:"Lyubishchev"}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){var e=["Test Event",Math.random().toString(16).substr(2,4)].join(" "),t=new D(new Date);C.addEvent(t),console.log("added event: "+e)},children:"Start an event"})}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){var e=C.getEvents(),t=e[e.length-1];t.endTime=new Date,(new E).saveUserEvents(e),console.log("updated event: "+t.title)},children:"End a started event"})}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){var e=C.getEvents();console.log(e)},children:"print events"})}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){var e=C.getEvents();console.log(e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{duration:e.getDuration()})})))},children:"print events with derived details"})}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){C.clearEvents(),console.log("cleared all events")},children:"clear events"})}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){C.generateRandomEvents(),console.log("random events generated")},children:"generate random events"})}),Object(N.jsx)(x.a,{removeButtonAriaLabel:"Remove",selectionAriaLabel:"Selected colors",onResolveSuggestions:he,onChange:function(e){return console.log("items: "+(null===e||void 0===e?void 0:e.map((function(e){return e.name}))))},onItemSelected:function(e){return console.log("selected "+(null===e||void 0===e?void 0:e.name)),e},getTextFromItem:me,pickerSuggestionsProps:ue,itemLimit:2,disabled:!1,inputProps:Object(f.a)(Object(f.a)({},le),{},{id:"picker1"})})]})}}]),n}(c.a.Component),le={onBlur:function(e){return console.log("onBlur called")},onFocus:function(e){return console.log("onFocus called")}},ue={suggestionsHeaderText:"Suggested tags",noResultsFoundText:"No color tags found"},de=["black","blue","brown","cyan","green","magenta","mauve","orange","pink","purple","red","rose","violet","white","yellow"].map((function(e){return{key:e,name:e}})),he=function(e,t){if(!e)return[];var n=de.filter((function(n){return 0===n.name.toLowerCase().indexOf(e.toLowerCase())&&!function(e,t){return!(!t||!t.length||0===t.length)&&t.some((function(t){return t.key===e.key}))}(n,t)}));return n.length||n.push({key:e,name:e}),n},me=function(e){return e.name},ve=ce,je=n(250),be=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)(h.b,{to:"/app",children:"App"})}),Object(N.jsx)("li",{children:Object(N.jsx)(h.b,{to:"/debug",children:"Debug"})}),Object(N.jsx)("li",{children:Object(N.jsx)(h.b,{to:"/dashboard",children:"Dashboard"})})]})})}}]),n}(c.a.Component);Object(je.a)(),u.a.render(Object(N.jsx)(h.a,{children:Object(N.jsx)("div",{children:Object(N.jsxs)(m.c,{children:[Object(N.jsx)(m.a,{path:"/home",children:Object(N.jsx)(be,{})}),Object(N.jsx)(m.a,{exact:!0,path:"/",children:Object(N.jsx)(se,{})}),Object(N.jsx)(m.a,{path:"/debug",children:Object(N.jsx)(ve,{})}),Object(N.jsx)(m.a,{path:"/dashboard",children:Object(N.jsx)(ne,{})})]})})}),document.getElementById("root")),d()}},[[192,1,2]]]);
//# sourceMappingURL=main.653da7ed.chunk.js.map